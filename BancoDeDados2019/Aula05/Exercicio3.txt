create or replace procedure PEDIDOEVALORTOTAL(P_COD IN CLIENTE.CODCLIENTE%TYPE, P_QUANTIDADE OUT ITEMPEDIDO.QUANTIDADE%TYPE, P_VALORTOTAL OUT NUMBER ) IS
BEGIN
  SELECT SUM(I.VALORUNITARIO * I.QUANTIDADE), sum(I.QUANTIDADE) INTO P_VALORTOTAL, P_QUANTIDADE FROM ITEMPEDIDO I INNER JOIN PEDIDO P
  ON P.CODPEDIDO = I.CODPEDIDO WHERE P.CODCLIENTE = P_COD ;
EXCEPTION
  WHEN NO_DATA_FOUND THEN
    P_QUANTIDADE := 0;
    P_VALORTOTAL :=0;
END;

-- s√ì DA PRA USAR PROCEDURE EM PLSQL 
DECLARE
V_CODCLIENTE CLIENTE.CODCLIENTE%TYPE := &COD;
V_QUANTIDADE NUMBER;
V_TOTAL NUMBER;
BEGIN
  PEDIDOEVALORTOTAL(V_CODCLIENTE,V_QUANTIDADE,V_TOTAL);
  DBMS_OUTPUT.put_line('CLIENTE = '|| V_CODCLIENTE);
  DBMS_OUTPUT.put_line('QUANTIDADE = '|| V_QUANTIDADE);
  DBMS_OUTPUT.put_line('TOTAL = '|| V_TOTAL);
END;
